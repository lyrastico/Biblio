# ğŸŒ Utilisation d'une version stable et lÃ©gÃ¨re de Node.js
FROM node:18-alpine AS build

# ğŸ“‚ DÃ©finition du rÃ©pertoire de travail
WORKDIR /app

# ğŸ” Copier uniquement les fichiers essentiels pour optimiser le cache
COPY package.json package-lock.json ./

# ğŸ“¦ Installer les dÃ©pendances
RUN npm install --production

# ğŸ“‚ Copier tout le code source
COPY . .

# ğŸ”§ Construire l'application React
RUN npm run build

# ğŸ—ï¸ Servir l'application avec Nginx
FROM nginx:alpine
COPY --from=build /app/build /usr/share/nginx/html
EXPOSE 3000

